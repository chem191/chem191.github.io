<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Exercise 4 Functions: Building Blocks for Programs | CHEM 191 Workbook: Building a Teensy Air Quality Monitor</title>
  <meta name="description" content="Course Materials for CHEM 191: Issues in Environmental Chemistry" />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="Exercise 4 Functions: Building Blocks for Programs | CHEM 191 Workbook: Building a Teensy Air Quality Monitor" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Course Materials for CHEM 191: Issues in Environmental Chemistry" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Exercise 4 Functions: Building Blocks for Programs | CHEM 191 Workbook: Building a Teensy Air Quality Monitor" />
  
  <meta name="twitter:description" content="Course Materials for CHEM 191: Issues in Environmental Chemistry" />
  

<meta name="author" content="Al Fischer" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="voltage-and-communication.html">
<link rel="next" href="soldering-and-pcb-assembly.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="http://alphonse.github.io/chem191">CHEM 191 Main Page</a></li>

<li class="divider"></li>
<li><a href="index.html#section"></a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#what-is-arduino"><i class="fa fa-check"></i>What is Arduino?</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#ok-but-what-is-teensy"><i class="fa fa-check"></i>OK, but what is Teensy?</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#using-this-book"><i class="fa fa-check"></i>Using this Book</a><ul>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#code"><i class="fa fa-check"></i>Code</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#notes-and-warnings"><i class="fa fa-check"></i>Notes and Warnings</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#is-this-work-dangerous"><i class="fa fa-check"></i>Is this work dangerous?</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#additional-resources"><i class="fa fa-check"></i>Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="getting-started-with-arduino.html"><a href="getting-started-with-arduino.html"><i class="fa fa-check"></i><b>1</b> Getting Started with Arduino</a><ul>
<li class="chapter" data-level="" data-path="getting-started-with-arduino.html"><a href="getting-started-with-arduino.html#introduction"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1.1" data-path="getting-started-with-arduino.html"><a href="getting-started-with-arduino.html#install-the-arduino-ide"><i class="fa fa-check"></i><b>1.1</b> Install the Arduino IDE</a></li>
<li class="chapter" data-level="1.2" data-path="getting-started-with-arduino.html"><a href="getting-started-with-arduino.html#install-teensyduino"><i class="fa fa-check"></i><b>1.2</b> Install Teensyduino</a></li>
<li class="chapter" data-level="1.3" data-path="getting-started-with-arduino.html"><a href="getting-started-with-arduino.html#test-the-teensy"><i class="fa fa-check"></i><b>1.3</b> Test the Teensy!</a><ul>
<li class="chapter" data-level="1.3.1" data-path="getting-started-with-arduino.html"><a href="getting-started-with-arduino.html#check-the-board"><i class="fa fa-check"></i><b>1.3.1</b> Check the board</a></li>
<li class="chapter" data-level="1.3.2" data-path="getting-started-with-arduino.html"><a href="getting-started-with-arduino.html#check-the-software"><i class="fa fa-check"></i><b>1.3.2</b> Check the software</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="blink-an-led.html"><a href="blink-an-led.html"><i class="fa fa-check"></i><b>2</b> Blink an LED</a><ul>
<li class="chapter" data-level="" data-path="blink-an-led.html"><a href="blink-an-led.html#introduction-1"><i class="fa fa-check"></i>Introduction</a><ul>
<li class="chapter" data-level="" data-path="blink-an-led.html"><a href="blink-an-led.html#how-are-things-connected-to-a-teensy"><i class="fa fa-check"></i>How are things connected to a Teensy?</a></li>
<li class="chapter" data-level="" data-path="blink-an-led.html"><a href="blink-an-led.html#the-solderless-breadboard"><i class="fa fa-check"></i>The solderless breadboard</a></li>
<li class="chapter" data-level="" data-path="blink-an-led.html"><a href="blink-an-led.html#what-is-a-program"><i class="fa fa-check"></i>What is a program?</a></li>
</ul></li>
<li class="chapter" data-level="2.1" data-path="blink-an-led.html"><a href="blink-an-led.html#connecting-the-led"><i class="fa fa-check"></i><b>2.1</b> Connecting the LED</a></li>
<li class="chapter" data-level="2.2" data-path="blink-an-led.html"><a href="blink-an-led.html#program-the-teensy"><i class="fa fa-check"></i><b>2.2</b> Program the Teensy</a><ul>
<li class="chapter" data-level="2.2.1" data-path="blink-an-led.html"><a href="blink-an-led.html#one-color"><i class="fa fa-check"></i><b>2.2.1</b> One Color</a></li>
<li class="chapter" data-level="2.2.2" data-path="blink-an-led.html"><a href="blink-an-led.html#three-colors"><i class="fa fa-check"></i><b>2.2.2</b> Three Colors</a></li>
<li class="chapter" data-level="2.2.3" data-path="blink-an-led.html"><a href="blink-an-led.html#make-your-own-changes"><i class="fa fa-check"></i><b>2.2.3</b> Make Your Own Changes</a></li>
<li class="chapter" data-level="2.2.4" data-path="blink-an-led.html"><a href="blink-an-led.html#turn-in"><i class="fa fa-check"></i><b>2.2.4</b> Turn in</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="voltage-and-communication.html"><a href="voltage-and-communication.html"><i class="fa fa-check"></i><b>3</b> Voltage and Communication</a><ul>
<li class="chapter" data-level="" data-path="voltage-and-communication.html"><a href="voltage-and-communication.html#introduction-2"><i class="fa fa-check"></i>Introduction</a><ul>
<li class="chapter" data-level="" data-path="voltage-and-communication.html"><a href="voltage-and-communication.html#electricity"><i class="fa fa-check"></i>Electricity</a></li>
<li class="chapter" data-level="" data-path="voltage-and-communication.html"><a href="voltage-and-communication.html#bits-and-volts"><i class="fa fa-check"></i>Bits and Volts</a></li>
<li class="chapter" data-level="" data-path="voltage-and-communication.html"><a href="voltage-and-communication.html#communicating-via-the-serial-port"><i class="fa fa-check"></i>Communicating via the serial port</a></li>
</ul></li>
<li class="chapter" data-level="3.1" data-path="voltage-and-communication.html"><a href="voltage-and-communication.html#connect-the-temperature-sensor"><i class="fa fa-check"></i><b>3.1</b> Connect the Temperature Sensor</a></li>
<li class="chapter" data-level="3.2" data-path="voltage-and-communication.html"><a href="voltage-and-communication.html#program-the-teensy-1"><i class="fa fa-check"></i><b>3.2</b> Program the Teensy</a><ul>
<li class="chapter" data-level="3.2.1" data-path="voltage-and-communication.html"><a href="voltage-and-communication.html#bare-minimum"><i class="fa fa-check"></i><b>3.2.1</b> Bare Minimum</a></li>
<li class="chapter" data-level="3.2.2" data-path="voltage-and-communication.html"><a href="voltage-and-communication.html#converting-to-temperature"><i class="fa fa-check"></i><b>3.2.2</b> Converting to Temperature</a></li>
<li class="chapter" data-level="3.2.3" data-path="voltage-and-communication.html"><a href="voltage-and-communication.html#cleaning-up-the-output"><i class="fa fa-check"></i><b>3.2.3</b> Cleaning up the Output</a></li>
<li class="chapter" data-level="3.2.4" data-path="voltage-and-communication.html"><a href="voltage-and-communication.html#make-your-own-changes-1"><i class="fa fa-check"></i><b>3.2.4</b> Make Your Own Changes</a></li>
<li class="chapter" data-level="3.2.5" data-path="voltage-and-communication.html"><a href="voltage-and-communication.html#turn-in-1"><i class="fa fa-check"></i><b>3.2.5</b> Turn in</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="functions-building-blocks-for-programs.html"><a href="functions-building-blocks-for-programs.html"><i class="fa fa-check"></i><b>4</b> Functions: Building Blocks for Programs</a><ul>
<li class="chapter" data-level="" data-path="functions-building-blocks-for-programs.html"><a href="functions-building-blocks-for-programs.html#introduction-3"><i class="fa fa-check"></i>Introduction</a><ul>
<li class="chapter" data-level="" data-path="functions-building-blocks-for-programs.html"><a href="functions-building-blocks-for-programs.html#using-functions"><i class="fa fa-check"></i>Using Functions</a></li>
</ul></li>
<li class="chapter" data-level="4.1" data-path="functions-building-blocks-for-programs.html"><a href="functions-building-blocks-for-programs.html#set-up-the-teensy"><i class="fa fa-check"></i><b>4.1</b> Set up the Teensy</a></li>
<li class="chapter" data-level="4.2" data-path="functions-building-blocks-for-programs.html"><a href="functions-building-blocks-for-programs.html#writing-a-blink-function"><i class="fa fa-check"></i><b>4.2</b> Writing a <code>blink()</code> Function</a></li>
<li class="chapter" data-level="4.3" data-path="functions-building-blocks-for-programs.html"><a href="functions-building-blocks-for-programs.html#using-functions-1"><i class="fa fa-check"></i><b>4.3</b> Using Functions</a></li>
<li class="chapter" data-level="4.4" data-path="functions-building-blocks-for-programs.html"><a href="functions-building-blocks-for-programs.html#write-functions-with-multiple-arguments"><i class="fa fa-check"></i><b>4.4</b> Write Functions With Multiple Arguments</a></li>
<li class="chapter" data-level="4.5" data-path="functions-building-blocks-for-programs.html"><a href="functions-building-blocks-for-programs.html#turn-in-2"><i class="fa fa-check"></i><b>4.5</b> Turn In</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="soldering-and-pcb-assembly.html"><a href="soldering-and-pcb-assembly.html"><i class="fa fa-check"></i><b>5</b> Soldering and PCB Assembly</a><ul>
<li class="chapter" data-level="5.1" data-path="soldering-and-pcb-assembly.html"><a href="soldering-and-pcb-assembly.html#introduction-4"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="soldering-and-pcb-assembly.html"><a href="soldering-and-pcb-assembly.html#soldering-basics"><i class="fa fa-check"></i><b>5.2</b> Soldering Basics</a><ul>
<li class="chapter" data-level="5.2.1" data-path="soldering-and-pcb-assembly.html"><a href="soldering-and-pcb-assembly.html#the-supplies"><i class="fa fa-check"></i><b>5.2.1</b> The Supplies</a></li>
<li class="chapter" data-level="5.2.2" data-path="soldering-and-pcb-assembly.html"><a href="soldering-and-pcb-assembly.html#the-technique"><i class="fa fa-check"></i><b>5.2.2</b> The Technique</a></li>
<li class="chapter" data-level="5.2.3" data-path="soldering-and-pcb-assembly.html"><a href="soldering-and-pcb-assembly.html#safety"><i class="fa fa-check"></i><b>5.2.3</b> Safety</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="soldering-and-pcb-assembly.html"><a href="soldering-and-pcb-assembly.html#assembling-the-board"><i class="fa fa-check"></i><b>5.3</b> Assembling the Board</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix-a-function-library.html"><a href="appendix-a-function-library.html"><i class="fa fa-check"></i>Appendix A: Function Library</a><ul>
<li class="chapter" data-level="" data-path="appendix-a-function-library.html"><a href="appendix-a-function-library.html#blink"><i class="fa fa-check"></i>blink()</a></li>
<li class="chapter" data-level="" data-path="appendix-a-function-library.html"><a href="appendix-a-function-library.html#checkconnection"><i class="fa fa-check"></i>checkConnection()</a></li>
<li class="chapter" data-level="" data-path="appendix-a-function-library.html"><a href="appendix-a-function-library.html#createfilenameint-y-int-m-int-d"><i class="fa fa-check"></i>createFileName(int y, int m, int d)</a></li>
<li class="chapter" data-level="" data-path="appendix-a-function-library.html"><a href="appendix-a-function-library.html#filldigitsint-digits"><i class="fa fa-check"></i>fillDigits(int digits)</a></li>
<li class="chapter" data-level="" data-path="appendix-a-function-library.html"><a href="appendix-a-function-library.html#getteensy3time"><i class="fa fa-check"></i>getTeensy3Time()</a></li>
<li class="chapter" data-level="" data-path="appendix-a-function-library.html"><a href="appendix-a-function-library.html#performpmreading"><i class="fa fa-check"></i>performPMReading()</a></li>
<li class="chapter" data-level="" data-path="appendix-a-function-library.html"><a href="appendix-a-function-library.html#printdata"><i class="fa fa-check"></i>printData()</a></li>
<li class="chapter" data-level="" data-path="appendix-a-function-library.html"><a href="appendix-a-function-library.html#printdateint-y-int-m-int-d"><i class="fa fa-check"></i>printDate(int y, int m, int d)</a></li>
<li class="chapter" data-level="" data-path="appendix-a-function-library.html"><a href="appendix-a-function-library.html#printdatetimestring-d-string-t"><i class="fa fa-check"></i>printDateTime(String d, String t)</a></li>
<li class="chapter" data-level="" data-path="appendix-a-function-library.html"><a href="appendix-a-function-library.html#printtimeint-h-int-m-int-s"><i class="fa fa-check"></i>printTime(int h, int m, int s)</a></li>
<li class="chapter" data-level="" data-path="appendix-a-function-library.html"><a href="appendix-a-function-library.html#setbmesamplingparameters"><i class="fa fa-check"></i>setBMESamplingParameters()</a></li>
<li class="chapter" data-level="" data-path="appendix-a-function-library.html"><a href="appendix-a-function-library.html#turnsensorsoff"><i class="fa fa-check"></i>turnSensorsOff()</a></li>
<li class="chapter" data-level="" data-path="appendix-a-function-library.html"><a href="appendix-a-function-library.html#turnsensorson"><i class="fa fa-check"></i>turnSensorsOn()</a></li>
<li class="chapter" data-level="" data-path="appendix-a-function-library.html"><a href="appendix-a-function-library.html#writefilechar-filename16"><i class="fa fa-check"></i>writeFile(char filename[16])</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix-b-strategies-for-troubleshooting.html"><a href="appendix-b-strategies-for-troubleshooting.html"><i class="fa fa-check"></i>Appendix B: Strategies for Troubleshooting</a></li>
<li class="chapter" data-level="" data-path="appendix-c-glossary-and-abbreviations.html"><a href="appendix-c-glossary-and-abbreviations.html"><i class="fa fa-check"></i>Appendix C: Glossary and Abbreviations</a><ul>
<li><a href="appendix-c-glossary-and-abbreviations.html#current-i">Current (<em>i</em>)</a></li>
<li class="chapter" data-level="" data-path="appendix-c-glossary-and-abbreviations.html"><a href="appendix-c-glossary-and-abbreviations.html#electricity-1"><i class="fa fa-check"></i>Electricity</a></li>
<li class="chapter" data-level="" data-path="appendix-c-glossary-and-abbreviations.html"><a href="appendix-c-glossary-and-abbreviations.html#led"><i class="fa fa-check"></i>LED</a></li>
<li><a href="appendix-c-glossary-and-abbreviations.html#power-p">Power (<em>P</em>)</a></li>
<li><a href="appendix-c-glossary-and-abbreviations.html#resistance-r">Resistance (<em>R</em>)</a></li>
<li><a href="appendix-c-glossary-and-abbreviations.html#voltage-v">Voltage (<em>V</em>)</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">CHEM 191 Workbook: Building a Teensy Air Quality Monitor</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="functions-building-blocks-for-programs" class="section level1">
<h1><span class="header-section-number">Exercise 4</span> Functions: Building Blocks for Programs</h1>
<p><strong>Objective:</strong> Create a <code>blink()</code> function in Arduino.</p>
<div id="introduction-3" class="section level2 unnumbered">
<h2>Introduction</h2>
<p>In previous exercises discussed the two function, <code>setup()</code> and <code>loop()</code> that are necessary for every Arduino sketch. You’ve also (perhaps unknowingly) used pre-defined functions to achieve tasks. In programming, a <strong>function</strong> is a defined piece of reusable code that can be used to perform an action. You could think of functions as modules that can be stacked together to create a program. For example, the items <code>digitalWrite()</code> and <code>Serial.print()</code> are both functions. The first, as we’ve seen, controls the logic level of a digital I/O pin on the Teensy while the latter prints data to the serial port.</p>
<p>Note that functions all have a defined stucture, or <em>syntax</em>. This may vary from language to langages, but will be the same within any language. In Arduino (C), functions always take the form <code>function(argument_1, argument 2, ...);</code>, where <code>function()</code> is the function and <code>argument_1</code>, etc., are the entities the function acts on or uses in some way while executing the function. This is very similar to functions in mathmatics. Assume, for example:</p>
<p><span class="math display">\[
f(x) = 3x \\
\]</span></p>
<p>Here, we’ve defined a function, <span class="math inline">\(f\)</span>, that acts on argument <span class="math inline">\(x\)</span>. If we write <span class="math inline">\(f(2)\)</span>, we are saying we wish to substitute 2 for x in the function, yielding <span class="math inline">\(f(x) = 3 \times 2 = 6\)</span>.</p>
<p>We could just as easily do this in Arduino. Using the same example, we can define a function <code>f()</code>:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb18-1"><a href="functions-building-blocks-for-programs.html#cb18-1"></a>  <span class="dt">int</span> f(<span class="dt">int</span> x) {</span>
<span id="cb18-2"><a href="functions-building-blocks-for-programs.html#cb18-2"></a>    <span class="cf">return</span> <span class="dv">3</span>*x</span>
<span id="cb18-3"><a href="functions-building-blocks-for-programs.html#cb18-3"></a>  }</span></code></pre></div>
<p>This function is equivalent to the mathmatical expression above. First, we define a function <code>f()</code> that takes one argument, <code>x</code> (contained within the parentheses). Within the function (denoted by the curly braces), we ask Arduino to output, or <strong>return</strong>, <span class="math inline">\(3 \times x\)</span>. After defining the function, we could write <code>f(2)</code> and Arduino would output <code>6</code>.</p>
<blockquote>
<p>*What would Arduino output if you wrote <code>f(4)</code>?</p>
</blockquote>
<div id="using-functions" class="section level3 unnumbered">
<h3>Using Functions</h3>
<p>Although most of the work done in this class will rely on pre-written functions, You’ll explore the methods for writing your own function in this exercise to help you understand how they work. As mentioned above, you can think of function as modules or building blocks that can be combined to create desired outcome. For example, if you wished to create a program that flashed a light everytime the temperature was read and then displayed the result to the screen, you might wish to combine blocks for reading the temperature, flashing a light, and printing data to the computer screen:</p>
<p><img src="images/blockDiagram_basic.png" /></p>
<p>Creating the <strong>block diagrams</strong> can be very helpful in visualizing what a program will do, and just the process of creating one can help you think through what the program needs to achieve line-by-line. The program above has one problem: it assumes there is a function called <code>blink()</code> that will flash the LED. This is not true, but you’ll make one in this exercise. A list of built in functions can be found on the <a href="https://www.arduino.cc/reference/en/">Arduino website</a>; other functions specific to this class can be found in [Appendix C][Appendix C: Functions].</p>
</div>
</div>
<div id="set-up-the-teensy" class="section level2">
<h2><span class="header-section-number">4.1</span> Set up the Teensy</h2>
<ol style="list-style-type: decimal">
<li>You do not need to connect anything to the Teensy. You will use the built-in orange LED for this exercise. Make sure nothing is connected to the breadboard other than the Teensy.</li>
</ol>
</div>
<div id="writing-a-blink-function" class="section level2">
<h2><span class="header-section-number">4.2</span> Writing a <code>blink()</code> Function</h2>
<ol style="list-style-type: decimal">
<li>On your worksheet, create a diagram like the one above for a function that would blink and LED on and off. Your function should:
<ul>
<li>Be called <code>blink()</code>.</li>
<li>Turn the LED on for a set amount of time.</li>
<li>Turn the LED off for a set amount of time.</li>
</ul></li>
<li>Define your function in Arduino. Open a blank sketch by clicking <code>File &gt; Examples &gt; Bare Minimum</code>. Add your variable definitions to the top and set the appropriate pins as outputs in your <code>setup()</code> function using <code>pinMode</code>. Refer to your previous exercises if you can’t remember how to do those things.</li>
</ol>
<div class="sourceCode" id="cb19"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb19-1"><a href="functions-building-blocks-for-programs.html#cb19-1"></a>  <span class="co">// define variables here</span></span>
<span id="cb19-2"><a href="functions-building-blocks-for-programs.html#cb19-2"></a>  </span>
<span id="cb19-3"><a href="functions-building-blocks-for-programs.html#cb19-3"></a>  <span class="dt">void</span> setup() {</span>
<span id="cb19-4"><a href="functions-building-blocks-for-programs.html#cb19-4"></a>    <span class="co">// set pinMode() here</span></span>
<span id="cb19-5"><a href="functions-building-blocks-for-programs.html#cb19-5"></a>  }</span>
<span id="cb19-6"><a href="functions-building-blocks-for-programs.html#cb19-6"></a>  </span>
<span id="cb19-7"><a href="functions-building-blocks-for-programs.html#cb19-7"></a>  <span class="dt">void</span> loop() {</span>
<span id="cb19-8"><a href="functions-building-blocks-for-programs.html#cb19-8"></a>    <span class="co">// leave blank for now</span></span>
<span id="cb19-9"><a href="functions-building-blocks-for-programs.html#cb19-9"></a>  }</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Define your <code>blink()</code> function at the bottom of your sketch. Follow the format below (don’t worry about the <code>void</code> part now – just know that you need to use it).</li>
</ol>
<div class="sourceCode" id="cb20"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb20-1"><a href="functions-building-blocks-for-programs.html#cb20-1"></a>  <span class="co">// define variables here</span></span>
<span id="cb20-2"><a href="functions-building-blocks-for-programs.html#cb20-2"></a>  </span>
<span id="cb20-3"><a href="functions-building-blocks-for-programs.html#cb20-3"></a>  <span class="dt">void</span> setup() {</span>
<span id="cb20-4"><a href="functions-building-blocks-for-programs.html#cb20-4"></a>    <span class="co">// set pinMode() here</span></span>
<span id="cb20-5"><a href="functions-building-blocks-for-programs.html#cb20-5"></a>  }</span>
<span id="cb20-6"><a href="functions-building-blocks-for-programs.html#cb20-6"></a>  </span>
<span id="cb20-7"><a href="functions-building-blocks-for-programs.html#cb20-7"></a>  <span class="dt">void</span> loop() {</span>
<span id="cb20-8"><a href="functions-building-blocks-for-programs.html#cb20-8"></a>    <span class="co">// leave blank for now</span></span>
<span id="cb20-9"><a href="functions-building-blocks-for-programs.html#cb20-9"></a>  }</span>
<span id="cb20-10"><a href="functions-building-blocks-for-programs.html#cb20-10"></a>  </span>
<span id="cb20-11"><a href="functions-building-blocks-for-programs.html#cb20-11"></a>  <span class="dt">void</span> blink(<span class="dt">int</span> ledPin) {</span>
<span id="cb20-12"><a href="functions-building-blocks-for-programs.html#cb20-12"></a>    digitalWrite(ledPin, HIGH); <span class="co">// turn LED on</span></span>
<span id="cb20-13"><a href="functions-building-blocks-for-programs.html#cb20-13"></a>    ___________________________ <span class="co">// wait x milliseconds</span></span>
<span id="cb20-14"><a href="functions-building-blocks-for-programs.html#cb20-14"></a>    ___________________________ <span class="co">// turn LED off</span></span>
<span id="cb20-15"><a href="functions-building-blocks-for-programs.html#cb20-15"></a>    ___________________________ <span class="co">// wait x milliseconds</span></span>
<span id="cb20-16"><a href="functions-building-blocks-for-programs.html#cb20-16"></a>  }</span></code></pre></div>
</div>
<div id="using-functions-1" class="section level2">
<h2><span class="header-section-number">4.3</span> Using Functions</h2>
<ol style="list-style-type: decimal">
<li>Add the function into your code and test it out.</li>
</ol>
<div class="sourceCode" id="cb21"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb21-1"><a href="functions-building-blocks-for-programs.html#cb21-1"></a>  <span class="co">// define variables here</span></span>
<span id="cb21-2"><a href="functions-building-blocks-for-programs.html#cb21-2"></a>  </span>
<span id="cb21-3"><a href="functions-building-blocks-for-programs.html#cb21-3"></a>  <span class="dt">void</span> setup() {</span>
<span id="cb21-4"><a href="functions-building-blocks-for-programs.html#cb21-4"></a>    <span class="co">// set pinMode() here</span></span>
<span id="cb21-5"><a href="functions-building-blocks-for-programs.html#cb21-5"></a>  }</span>
<span id="cb21-6"><a href="functions-building-blocks-for-programs.html#cb21-6"></a>  </span>
<span id="cb21-7"><a href="functions-building-blocks-for-programs.html#cb21-7"></a>  <span class="dt">void</span> loop() {</span>
<span id="cb21-8"><a href="functions-building-blocks-for-programs.html#cb21-8"></a>    blink(________);</span>
<span id="cb21-9"><a href="functions-building-blocks-for-programs.html#cb21-9"></a>  }</span>
<span id="cb21-10"><a href="functions-building-blocks-for-programs.html#cb21-10"></a>  </span>
<span id="cb21-11"><a href="functions-building-blocks-for-programs.html#cb21-11"></a>  <span class="dt">void</span> blink(<span class="dt">int</span> ledPin) {</span>
<span id="cb21-12"><a href="functions-building-blocks-for-programs.html#cb21-12"></a>    digitalWrite(ledPin, HIGH); <span class="co">// turn LED on</span></span>
<span id="cb21-13"><a href="functions-building-blocks-for-programs.html#cb21-13"></a>    ___________________________ <span class="co">// wait x milliseconds</span></span>
<span id="cb21-14"><a href="functions-building-blocks-for-programs.html#cb21-14"></a>    ___________________________ <span class="co">// turn LED off</span></span>
<span id="cb21-15"><a href="functions-building-blocks-for-programs.html#cb21-15"></a>    ___________________________ <span class="co">// wait x milliseconds</span></span>
<span id="cb21-16"><a href="functions-building-blocks-for-programs.html#cb21-16"></a>  }</span></code></pre></div>
</div>
<div id="write-functions-with-multiple-arguments" class="section level2">
<h2><span class="header-section-number">4.4</span> Write Functions With Multiple Arguments</h2>
<ol style="list-style-type: decimal">
<li>Create a second function called <code>blink2();</code>. It should do the same thing as blink but allow the user to change the blinking time interval.</li>
</ol>
<div class="sourceCode" id="cb22"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb22-1"><a href="functions-building-blocks-for-programs.html#cb22-1"></a>  <span class="dt">void</span> blink2(<span class="dt">int</span> ledPin, <span class="dt">int</span> interval) {</span>
<span id="cb22-2"><a href="functions-building-blocks-for-programs.html#cb22-2"></a>    <span class="co">// turn LED on</span></span>
<span id="cb22-3"><a href="functions-building-blocks-for-programs.html#cb22-3"></a>    <span class="co">// wait x milliseconds</span></span>
<span id="cb22-4"><a href="functions-building-blocks-for-programs.html#cb22-4"></a>    <span class="co">// turn LED off</span></span>
<span id="cb22-5"><a href="functions-building-blocks-for-programs.html#cb22-5"></a>    <span class="co">// wait x milliseconds</span></span>
<span id="cb22-6"><a href="functions-building-blocks-for-programs.html#cb22-6"></a>  }</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Use this function in your code in combination with <code>blink()</code>.</li>
</ol>
</div>
<div id="turn-in-2" class="section level2">
<h2><span class="header-section-number">4.5</span> Turn In</h2>
<ol style="list-style-type: decimal">
<li>Turn in a hardcopy of your completed worksheet.</li>
<li>Turn in an electronic copy of your code containing the functions <code>blink();</code> and <code>blink2()</code> that shows use of both.</li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="voltage-and-communication.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="soldering-and-pcb-assembly.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["chem191.github.io.pdf"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
