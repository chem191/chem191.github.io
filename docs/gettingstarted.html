<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Getting Started with Teensy &amp; Arduino | CHEM 191: A Teensy Introduction to Atmospheric Chemistry</title>
  <meta name="description" content="Course Materials for CHEM 191: Issues in Environmental Chemistry" />
  <meta name="generator" content="bookdown 0.10 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Getting Started with Teensy &amp; Arduino | CHEM 191: A Teensy Introduction to Atmospheric Chemistry" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Course Materials for CHEM 191: Issues in Environmental Chemistry" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Getting Started with Teensy &amp; Arduino | CHEM 191: A Teensy Introduction to Atmospheric Chemistry" />
  
  <meta name="twitter:description" content="Course Materials for CHEM 191: Issues in Environmental Chemistry" />
  

<meta name="author" content="Dr. Al Fischer" />


<meta name="date" content="2019-05-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="getting-started.html">
<link rel="next" href="literature.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="part"><span><b>I Theory</b></span></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Getting Started</a></li>
<li class="part"><span><b>II Measuring</b></span></li>
<li class="chapter" data-level="2" data-path="gettingstarted.html"><a href="gettingstarted.html"><i class="fa fa-check"></i><b>2</b> Getting Started with Teensy &amp; Arduino</a><ul>
<li class="chapter" data-level="2.1" data-path="gettingstarted.html"><a href="gettingstarted.html#introduction-what-is-arduino"><i class="fa fa-check"></i><b>2.1</b> Introduction: What is Arduino?</a></li>
<li class="chapter" data-level="2.2" data-path="gettingstarted.html"><a href="gettingstarted.html#lighting-an-led-with-arduino"><i class="fa fa-check"></i><b>2.2</b> Lighting an LED with Arduino</a><ul>
<li class="chapter" data-level="2.2.1" data-path="gettingstarted.html"><a href="gettingstarted.html#connecting-the-leds"><i class="fa fa-check"></i><b>2.2.1</b> Connecting the LEDs</a></li>
<li class="chapter" data-level="2.2.2" data-path="gettingstarted.html"><a href="gettingstarted.html#programming-the-arduino"><i class="fa fa-check"></i><b>2.2.2</b> Programming the Arduino</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="gettingstarted.html"><a href="gettingstarted.html#additional-resources"><i class="fa fa-check"></i><b>2.3</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="literature.html"><a href="literature.html"><i class="fa fa-check"></i><b>3</b> Literature</a></li>
<li class="chapter" data-level="4" data-path="methods.html"><a href="methods.html"><i class="fa fa-check"></i><b>4</b> Methods</a></li>
<li class="chapter" data-level="5" data-path="applications.html"><a href="applications.html"><i class="fa fa-check"></i><b>5</b> Applications</a><ul>
<li class="chapter" data-level="5.1" data-path="applications.html"><a href="applications.html#example-one"><i class="fa fa-check"></i><b>5.1</b> Example one</a></li>
<li class="chapter" data-level="5.2" data-path="applications.html"><a href="applications.html#example-two"><i class="fa fa-check"></i><b>5.2</b> Example two</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="final-words.html"><a href="final-words.html"><i class="fa fa-check"></i><b>6</b> Final Words</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">CHEM 191: A Teensy Introduction to Atmospheric Chemistry</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="gettingstarted" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> Getting Started with Teensy &amp; Arduino</h1>
<p><strong>Objective:</strong> Use Arduino to turn an LED on and off.</p>
<div id="introduction-what-is-arduino" class="section level2">
<h2><span class="header-section-number">2.1</span> Introduction: What is Arduino?</h2>
<p>Arduino is an open-source platform for developing interactive electronic devices. It provides a standard interface to Atmel <em>microcontrollers</em>, which in turn can be programmed by the user to perform specific tasks. Arduino began in 2005 as a student project at the Interaction Design Institute Ivrea in Ivrea, Italy as a way to replace the more expensive microcontrollers the students were using at the time, and has since become very popular for hobby projects, citizen science tools, and even art installations.</p>
<p>Using an Arduino requires a <em>program</em>, or a set of commands that are uploaded to the Arduino to have it perform specific tasks. In the Arduino community, the term <em>sketch</em> is used synonymously with program. Examples of possible programs include having the Arduino measure things like temperature, light, or humidity, or control things like lights or motors. Although the Arduino can run as a stand-alone device once programmed, it must be initially setup by a computer. It is also possible to create a <em>graphic user interface</em> (GUI) to control things attached to the Arduino using a computer.</p>
<p>To program the Arduino, we’ll use the <em>integrated devlopment environment</em> (IDE) available on the <a href="http://www.arduino.cc">Arduino website</a>. The IDE is shown in Figure 1 below. Arduino uses the computer language <em>C</em>–probably the most commonly used language in the world–but the IDE handles some of the programming behind the scenes to make it easier for the user. In this exercise, we’ll use an Arduino to turn a light-emitting diode (LED) on and off, and you’ll experience Arduino and the IDE firsthand.</p>
<!-- !["IDE"](./images/ArduinoIDE.jpg) -->
</div>
<div id="lighting-an-led-with-arduino" class="section level2">
<h2><span class="header-section-number">2.2</span> Lighting an LED with Arduino</h2>
<p>Our goal is to turn an LED on and off using an Arduino microcontroller. You’ll have to connect the LED to the microcontroller and write appropriate code to control it. The blink example in the Arduino IDE under <code>File &gt; Examples &gt; Basics &gt; Blink</code> may be helpful in getting started, but will need some editing to work properly with our LEDs.</p>
<div id="connecting-the-leds" class="section level3">
<h3><span class="header-section-number">2.2.1</span> Connecting the LEDs</h3>
<p>The LEDs we have are RGB (red, green, blue) LEDs, and each color has a different terminal that’s used to turn it on and off independently. The LEDs are <em>common cathode</em>, meaning all the colors share a negative terminal and have their own positive terminals. To turn the individual colors on and off, simply turn on the corresponding positive terminal (i.e. set it <em>high</em>). The manufacturere provides a <em>pinout</em> of the LED that shows which pin turns on each color, is reprinted below in Figure 2.</p>
<!-- ![pinout](images/pinout.jpg) -->
<!-- <small> **Figure 2:** Dimensional drawing of the LED showing numbered pins (left) and schematic representation of the same LED (right). Reprinted from [the vendor's website](www.taydaelectronics.com/datasheets/A-1094.pdf).</small> -->
<p>To connect the LED:</p>
<ol style="list-style-type: decimal">
<li>Connect the <em>cathode</em> (long terminal) to ground on the Arduino.</li>
<li>Connect the other legs to digital pins on the Arduino, for example pins 11, 12, and 13.</li>
</ol>
<p>The final setup should look something like Figure 3:</p>
<!-- <center><img src="images/LED_bb.jpg" alt="Drawing" style="height: 275px;"/>     <img src="images/LED_schem.jpg" alt="Drawing" style="height: 275px;"/></center> -->
<!-- <small> **Figure 3:** Visual representation of the LED-Arduino setup (left) and schematic representation of the same setup (right). </small> -->
</div>
<div id="programming-the-arduino" class="section level3">
<h3><span class="header-section-number">2.2.2</span> Programming the Arduino</h3>
<ol style="list-style-type: decimal">
<li>Open the Arduino IDE and find the “Blink” example:</li>
</ol>
<pre><code>File &gt; Examples &gt; Basics &gt; Blink</code></pre>
<p>The example code has all the features necessary for an Arduino program, and we’ll go through it step-by-step. The grey text at the top surrounded by <code>/*</code> or <code>//</code> dileneates informative comments about the code. Just below that, the variables and constants (things to assign values to) are defined. Here, the constant <code>led</code> has been assigned an integer (<code>int</code>) value of 13 to represent the LED attached to pin 13.</p>
<ol style="list-style-type: decimal">
<li>At this point, assign variables for each color of the LED:</li>
</ol>
<pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">int</span> red   = <span class="dv">13</span>
<span class="dt">int</span> blue  = <span class="dv">12</span>
<span class="dt">int</span> green = <span class="dv">11</span></code></pre>
<p>Just below the variable definitions is the <code>setup()</code> command, which is required for every Arduino program. The <code>setup()</code> command only runs once when the program initializes, so anything containted within the curly braces happens only a single time. In Arduino (actually C) commands are always followed by <code>()</code> and are automatically colored orange by the Arduino IDE.</p>
<ol style="list-style-type: decimal">
<li>For this program, we need to configure the LED pins to <em>output</em> (as opposed to input) a signal:</li>
</ol>
<pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">void</span> setup() {
    pinMode(red, OUTPUT);   <span class="co">// set pin 13 (red) to OUTPUT</span>
    pinMode(blue, OUTPUT);  <span class="co">// comments aren&#39;t read by Arduino</span>
    pinMode(green, OUTPUT); <span class="co">// so type whatever you want</span>
}</code></pre>
<blockquote>
<p><em>Note that spaces and characters preceded by <code>//</code> aren’t important for running the program, just for making it more legible to humans. Use these comments to explain what your code is doing. However, be sure to include all capital letters, brackets and semi-colons because they <strong>are</strong> important.</em></p>
</blockquote>
<p>Next is the <code>loop()</code> command, which is also required by every Arduino program. Anything in the in the <code>loop()</code> command is repeated as long as the program runs (i.e. anytime the Arduino is plugged in). Any repetitive task, like turing the LED on and off, should go here.</p>
<ol style="list-style-type: decimal">
<li>Modify the existing code to turn on and off your favorite color:</li>
</ol>
<pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">void</span> loop() {
    digitalWrite(blue, HIGH); <span class="co">// turn color on by applying 5V</span>
    delay(<span class="dv">1000</span>);              <span class="co">// wait 1000 milliseconds</span>
    digitalWrite(blue, LOW);  <span class="co">// turn color off (set to 0V)</span>
    delay(<span class="dv">1000</span>);              <span class="co">// wait again before repeating</span>
}</code></pre>
<blockquote>
<p><em>Every Arduino program must have <code>setup()</code> and <code>loop()</code> commands (even if they are empty). <code>setup()</code> tells the microcontroller what to do once when it starts; <code>loop()</code> tells it what repetitive task to do.</em></p>
</blockquote>
<ol style="list-style-type: decimal">
<li>That’s it! Check your code by pressing the round “verify” check mark in the upper left corner of the IDE.</li>
<li>If you don’t get any errors, you’re ready to upload your code:
<ol style="list-style-type: decimal">
<li>Make sure you have selected the correct board type:</li>
</ol>
<pre class="sourceCode cpp"><code class="sourceCode cpp">Tools &gt; Board &gt; Arduino Uno</code></pre>
<p>and the correct serial port:</p>
<pre class="sourceCode cpp"><code class="sourceCode cpp">Tools &gt; Port &gt; COM X*</code></pre>
<p>*You may have to try multiple COM ports to find the right one.</p>
<ol start="2" style="list-style-type: decimal">
<li>Press the round “upload” arrow next to the verify button.
Once your code is uploaded, you should see the color you chose flashing on the Arduino. If it’s not, go back a few steps and try and figure out why.</li>
<li>If your code works, try changing it around to do new things. You can change the amount of time the LED stays on (the duty cycle) or change which colors are turned on.</li>
</ol></li>
</ol>
</div>
</div>
<div id="additional-resources" class="section level2">
<h2><span class="header-section-number">2.3</span> Additional Resources</h2>
<ol style="list-style-type: decimal">
<li>Blum, Jeremy. <em>Exploring Arduino: Tools and techniques for electronics wizardy</em> “Chapter 1: Getting up and Blinking with an LED.” Wiley, 2013.</li>
<li><a href="http://arduino.cc/en/Tutorial/Blink">Online documentation for blink example</a></li>
<li><a href="http://arduino.cc/en/Reference/HomePage">Online command dictionary</a></li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="getting-started.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="literature.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["chem191.github.io.pdf", "chem191.github.io.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
